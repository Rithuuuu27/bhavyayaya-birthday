<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bhavyayaya Birthday</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+Tamma+2:wght@700&display=swap" rel="stylesheet">
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: "Baloo Tamma 2", cursive, sans-serif;
      background: black;
      color: white;
      overflow-x: hidden;
      position: relative;
    }

    /* Landing */
    #landing {
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      height: 100vh; background: url("poster.jpg") no-repeat center center;
      background-size: cover; text-align: center;
    }
    #landing h1 { font-size: 3em; margin-bottom: 20px; text-shadow: 2px 2px 10px black; }
    #landing input {
      padding: 12px; margin: 10px 0; border-radius: 10px; border: none;
      font-size: 1em; width: 250px; text-align: center;
    }
    #login-btn {
      padding: 12px 30px; font-size: 1.2em; border: none; border-radius: 10px;
      background-color: rgba(255,255,255,0.8); cursor: pointer; color: black; transition: 0.3s;
    }
    #login-btn:hover { background-color: rgba(255,255,255,1); }
    #error-msg { color: red; display: none; margin-top: 10px; text-shadow: 1px 1px 2px black; }

    /* Main Content */
    #main-content { display: none; position: relative; padding: 40px 20px; min-height: 100vh; text-align: center; z-index: 1; }
    h1.main-title { font-size: 3em; margin: 20px 0; text-shadow: 0 0 15px #ff4081, 0 0 25px #ff80ab; }

    /* Quiz Styling */
    .quiz { margin: 20px auto; max-width: 700px; text-align: left; position: relative; z-index: 2; }
    .question {
      margin: 25px 0; padding: 20px;
      background: rgba(255, 255, 255, 0.05);
      border: 2px solid #ff4081;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(255, 64, 129, 0.4);
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.8s ease;
      display: none;
    }
    .question.visible { opacity: 1; transform: translateY(0); display: block; }
    .question p { font-size: 1.4em; text-shadow: 0 0 10px black; margin-bottom: 15px; }

    /* Option Buttons */
    .options button {
      display: block; width: 100%; margin: 8px 0; padding: 12px;
      font-size: 1.2em; border: none; border-radius: 12px;
      cursor: pointer; background: linear-gradient(45deg, #ff4081, #ff80ab);
      color: white; transition: transform 0.2s, box-shadow 0.3s;
    }
    .options button:hover { transform: scale(1.05); box-shadow: 0 0 15px #ff80ab; }

    /* Video */
    video {
      margin-top: 50px; width: 80%; max-width: 900px; border-radius: 15px;
      box-shadow: 0px 6px 25px rgba(255,64,129,0.6);
      opacity: 0; transition: opacity 1s ease;
      z-index: 2; position: relative;
    }
    video.visible { opacity: 1; }

    /* Cupid Animation */
    #cupid {
      position: fixed; width: 80px; top: 0; left: -100px;
      z-index: 0; pointer-events: none;
      animation: cupid-fly 12s linear infinite;
    }
    @keyframes cupid-fly {
      0% { transform: translateX(-100px) translateY(0) rotate(0deg); }
      25% { transform: translateX(25vw) translateY(10vh) rotate(10deg); }
      50% { transform: translateX(50vw) translateY(0) rotate(-10deg); }
      75% { transform: translateX(75vw) translateY(10vh) rotate(10deg); }
      100% { transform: translateX(100vw) translateY(0) rotate(0deg); }
    }

    /* Pop-up Text */
    #popup-text {
      position: fixed; top: 40%; left: 50%; transform: translate(-50%, -50%);
      font-size: 3em; color: #ff4081; text-shadow: 0 0 15px white, 0 0 25px #ff80ab;
      display: none; z-index: 999; text-align: center;
    }
  </style>
</head>
<body>
  <!-- Landing -->
  <div id="landing">
    <h1>ðŸŽ‰ Happy Birthday Bhavyayaya ðŸŽ‰</h1>
    <input type="text" id="username" placeholder="Username" />
    <input type="password" id="password" placeholder="Password" />
    <button id="login-btn">Enter</button>
    <p id="error-msg">Incorrect username or password!</p>
    <audio id="landing-music" loop autoplay>
      <source src="remo-song.mp3" type="audio/mp3">
    </audio>
  </div>

  <!-- Main Quiz -->
  <div id="main-content">
    <h1 class="main-title">ðŸŽ‰ Let's Play a Birthday Quiz ðŸŽ‰</h1>
    <div class="quiz">
      <!-- Q1 -->
      <div class="question">
        <p>1. The first time we were talking about a guy, Who was it?</p>
        <div class="options">
          <button onclick="checkAnswer(1,'a')">a) Jam</button>
          <button onclick="checkAnswer(1,'b')">b) Black kurta guy</button>
          <button onclick="checkAnswer(1,'c')">c) Vibhor</button>
        </div>
      </div>
      <!-- Q2 -->
      <div class="question">
        <p>2. Are you gonna dance for Monica song?</p>
        <div class="options">
          <button onclick="forceYes()">a) Yessss</button>
          <button onclick="forceYes()">b) Yessss</button>
          <button onclick="forceYes()">c) Yesss</button>
        </div>
      </div>
      <!-- Q3 -->
      <div class="question">
        <p>3. Adeeiii loosu Do you want something Cinematic?</p>
        <div class="options">
          <button onclick="checkAnswer(3,'a')">a) Paravala don't bother y'all</button>
          <button onclick="checkAnswer(3,'b')">b) Enakaaga idhu kooda pannalanaa neenga laam enna frnds</button>
          <button onclick="checkAnswer(3,'c')">c) No it's fine</button>
        </div>
      </div>
    </div>

    <!-- Surprise Video -->
    <video id="surprise-video" controls>
      <source src="video.mp4" type="video/mp4">
    </video>
  </div>

  <!-- Cupid -->
  <img id="cupid" src="cupid.png" alt="Cupid" />

  <!-- Popup Text -->
  <div id="popup-text">Bhavyaa is our AKKA</div>

  <script>
    const loginBtn = document.getElementById("login-btn");
    const landing = document.getElementById("landing");
    const mainContent = document.getElementById("main-content");
    const landingMusic = document.getElementById("landing-music");
    const errorMsg = document.getElementById("error-msg");
    const questions = document.querySelectorAll(".question");
    const video = document.getElementById("surprise-video");
    const popupText = document.getElementById("popup-text");
    const correctUsername = "Muthupandi";
    const correctPassword = "Chandramukhi";
    let wrongAttempts = 0;
    let musicStopped = false;
    let answersCorrect = {1: false, 2: false, 3: false};

    function goFullscreen() {
      const elem = document.documentElement;
      if (elem.requestFullscreen) elem.requestFullscreen();
      else if (elem.mozRequestFullScreen) elem.mozRequestFullScreen();
      else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
      else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
    }

    function speak(text) {
      if ('speechSynthesis' in window) {
        const msg = new SpeechSynthesisUtterance(text);
        msg.rate = 1; msg.pitch = 1;
        window.speechSynthesis.speak(msg);
      }
    }

    // Show only Q1 initially
    questions.forEach((q, i) => {
      if (i === 0) q.style.display = "block";
    });

    loginBtn.addEventListener("click", () => {
      const enteredUsername = document.getElementById("username").value;
      const enteredPassword = document.getElementById("password").value;
      goFullscreen();
      if (enteredUsername === correctUsername && enteredPassword === correctPassword) {
        landing.style.display = "none";
        mainContent.style.display = "block";

        // Fade in first question
        setTimeout(() => questions[0].classList.add("visible"), 100);
      } else {
        wrongAttempts++;
        errorMsg.style.display = "block";
        if (wrongAttempts === 3) speak("It's one of your names. The username is Muthupandi.");
        else if (wrongAttempts > 3) speak("Try again carefully!");
      }
    });

    function stopMusicOnce() {
      if (!musicStopped && landingMusic) {
        landingMusic.pause();
        landingMusic.currentTime = 0;
        landingMusic.remove();
        musicStopped = true;
      }
    }

    function showPopup() {
      popupText.style.display = "block";
      setTimeout(() => { popupText.style.display = "none"; }, 4000);
    }

    function checkAnswer(q, selected) {
      stopMusicOnce();

      if ((q === 1 && selected === 'b') || (q === 3 && selected === 'b')) {
        answersCorrect[q] = true;
      } else {
        answersCorrect[q] = false;
      }

      // Show next question sequentially
      if (q < questions.length) {
        const nextQ = questions[q]; // next question index
        nextQ.style.display = "block";
        setTimeout(() => nextQ.classList.add("visible"), 100);
      }

      if (answersCorrect[1] && answersCorrect[2] && answersCorrect[3]) {
        speak("Bhavyaa is our AKKA");
        showPopup();
        video.classList.add("visible");
      }
    }

    function forceYes() {
      stopMusicOnce();
      answersCorrect[2] = true;

      // Show Q3
      const nextQ = questions[2];
      nextQ.style.display = "block";
      setTimeout(() => nextQ.classList.add("visible"), 100);

      speak("Looks like you don't have a choice Dear suresh ponnu");

      if (answersCorrect[1] && answersCorrect[2] && answersCorrect[3]) {
        speak("Bhavyaa is our AKKA");
        showPopup();
        video.classList.add("visible");
      }
    }

    document.body.addEventListener("click", () => {
      if (landingMusic && landingMusic.paused && !musicStopped) landingMusic.play();
    });
  </script>
</body>
</html>


